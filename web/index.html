<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://vjs.zencdn.net/8.6.0/video-js.css" rel="stylesheet"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        form {

        }
    </style>
</head>

<body>
<video id="my-video" class="video-js" controls preload="auto" width="640" height="264" data-setup="{}">
    <source src="http://localhost:3000/videos/regular_show/playlist.m3u8" type="application/x-mpegURL"/>
    <p class="vjs-no-js">
        To view this video please enable JavaScript, and consider upgrading to a
        web browser that
        <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
    </p>
</video>

<br>

<form enctype="multipart/form-data" method="post" action="http://localhost:3000/upload">
    <input type="file" name="video" id="video">
    <input type="text" name="title" id="title">
    <button type="submit">Submit</button>
</form>

<script>
    const videoTitle = new URLSearchParams(window.location.search).get('v')
    const source = document.querySelector("source")
    source.src = `http://localhost:3000/videos/${videoTitle}/playlist.m3u8`
</script>
<script src="https://vjs.zencdn.net/8.6.0/video.min.js"></script>
</body>